function loadSettings(){$("#name").val(localStorage.name),$("#email").val(localStorage.email)}function saveSettings(){localStorage.name=$("#name").val(),localStorage.email=$("#email").val()}function getData(a){$(".week-nav").html(""),$.ajax({dataType:"json",url:"/json/nfl2016.json",success:function(b){for($('<span class="text-center week-nav"><span class="pag prev" data-week="'+parseFloat(a-1)+'"></span> Week '+parseFloat(a+1)+' <span class="pag next" data-week="'+parseFloat(a+1)+'"></span> </span>').appendTo("#weekly h1"),0==a?$(".prev").hide():16==a&&$(".next").hide(),$("#subject").val("Week "+parseFloat(a+1)+" Picks"),i=0;i<b[a].game_days.length;i++)for(m=0;m<b[a].game_days[i].matches.length;m++){var c=(b[a].game_days[i].date,b[a].game_days[i].matches[m].id),d=b[a].game_days[i].matches[m].last,e=b[a].game_days[i].matches[m].stadium,f=b[a].game_days[i].matches[m].tv,g=b[a].game_days[i].matches[m].away.nick,h=b[a].game_days[i].matches[m].home.nick;Number.prototype.pad=function(a){return(new Array(a+1).join("0")+this).slice(-a)};var j,k=new Date(b[a].game_days[i].matches[m].timestamp),l=b[a].game_days[i].matches[m].timestamp.slice(0,3),n=k.getHours()%12||12,o=k.getMinutes().pad(2),p=+n+":"+o,q=b[a].game_days[i].matches[m].away.nick,r=b[a].game_days[i].matches[m].home.nick;$("label").click(function(){j=$(this).attr("for")}),$(function(){var a,b=document.getElementsByClassName("location");for(a=0;a<b.length;a++)b[a].onclick=function(){this.classList.toggle("active"),this.nextElementSibling.classList.toggle("show")}}),1==d?$('<h3>Tie-Breaker Game</h3><li>\n            <div class="teams">\n            <div class="half away">\n            <input type="radio" class="radio" id="'+g+'" name="Game'+c+'" value="'+q+'" required>\n            <label for="'+g+'"><img src="/images/logos/'+q+'.png" style="float: right;" alt="'+q+' logo" />'+q+'</label>\n            </div>\n            <div class="half home">\n            <input type="radio" class="radio" id="'+h+'" name="Game'+c+'" value="'+r+'" required>\n            <label for="'+h+'"><img src="/images/logos/'+r+'.png" style="float: left;" alt="'+r+' logo" />'+r+'</label>\n            </div>\n            </div>\n            <div class="full location mon">\n            <i class="fa fa-bar-chart" aria-hidden="true"></i>\n            <strong> '+l+" "+p+" MST on "+f+'</strong> <span class="mobile-hidden"> - </span> <br class="rwd-break">'+e+'\n            </div>\n            <div class="full statistics">\n              <div class="half away-stats '+g+'">\n                <span class="progress" data-how-picked="">stats are coming</span>\n                <span class="pct" data-how-picked-pct="">27%</span>\n              </div>\n              <div class="half home-stats '+h+'">\n                <span class="progress left" data-how-picked="">stats are coming</span>\n                <span class="pct right" data-how-picked-pct="">27%</span>\n              </div>\n            </div>\n            <div class="full">\n            <label for="'+c+'" class="total_score">Game Total:</label>\n            <input type="number" min="0" inputmode="numeric" pattern="[0-9]*" class="total_score" id="'+c+'" name="Score'+c+'" placeholder="0" required>\n            </div>\n            <div class="full statistics">\n              <div class="half away-stats '+g+'">\n                <span class="progress" data-how-picked="">stats are coming</span>\n                <span class="pct" data-how-picked-pct="">27%</span>\n              </div>\n              <div class="half home-stats '+h+'">\n                <span class="progress left" data-how-picked="">stats are coming</span>\n                <span class="pct right" data-how-picked-pct="">27%</span>\n              </div>\n            </div>\n            </li>').appendTo(".matches"):$('<li>\n            <div class="teams">\n            <div class="half away">\n            <input type="radio" class="radio" id="'+g+'" name="Game'+c+'" value="'+q+'" required>\n            <label for="'+g+'"><img src="/images/logos/'+q+'.png" style="float: right;" alt="'+q+' logo" />'+q+'</label>\n            <span class="standings"></span>\n            </div>\n            <div class="half home">\n            <input type="radio" class="radio" id="'+h+'" name="Game'+c+'" value="'+r+'" required>\n            <label for="'+h+'"><img src="/images/logos/'+r+'.png" style="float: left;" alt="'+r+' logo" />'+r+'</label>\n            </div>\n            </div>\n            <div class="full location">\n            <i class="fa fa-bar-chart" aria-hidden="true"></i>\n            <strong> '+l+" "+p+" MST on "+f+'</strong> <span class="mobile-hidden"> - </span> <br class="rwd-break">'+e+'\n            </div>\n            <div class="full statistics">\n              <div class="half away-stats '+g+'">\n                <span class="progress left" data-how-picked="">stats are coming</span>\n                <span class="pct right" data-how-picked-pct="">27%</span>\n              </div>\n              <div class="half home-stats '+h+'">\n                <span class="progress left" data-how-picked="">stats are coming</span>\n                <span class="pct right" data-how-picked-pct="">27%</span>\n              </div>\n            </div>\n            </li>').appendTo(".matches");var s=new Date;s>k&&$(".teams input[type=radio]").removeAttr("required").attr("disabled",!0)}}})}var smallBreakPoint=640,mediumBreakPoint=768;$("#weekly").on("submit",function(){$('<fieldset><input type="hidden" name="Week" value="Week '+parseFloat(week+1)+'"></fieldset>').appendTo(".hidden")}),$(function(){$("#email").change(function(){var a=$(this).val();$("#copy").val(a)})}),$(function(){$(window).unload(saveSettings),loadSettings()});var request;$(document).on("submit","#weekly",function(){request&&request.abort();var a=$(this),b=(a.find("input, select, button, textarea"),a.serialize());request=$.ajax({url:"https://script.google.com/macros/s/AKfycby7D7lSIU3gBfX7m7jgRC5HcGj402jOHbDosFYUamBRWEX-PZE9/exec",type:"post",data:b}),request.done(function(a,b,c){console.log("Hooray, it worked!"),console.log(a),console.log(b),console.log(c)}),request.fail(function(a,b,c){console.error("The following error occurred: "+b,c)})}),$.ajax({dataType:"json",url:"/json/season-leaderboard.json",success:function(a){var b,c=0,d=0,e=1;for(a.sort(function(a,b){return parseFloat(b.total)-parseFloat(a.total)}),i=0;i<a.length;i++){var f=a[i].total,g=gamesTotal-f;if(d!=f)var c=e,d=f;else if(d==f)var c=c;if(0==i)var h=100/f;var j=(f/gamesTotal*100).toFixed(2)+"%",k=(f*h).toFixed(2)+"%";b=$("<tr/>"),b.append('<td style="width: '+k+'"><span class="rank">'+c+'</span><span class="player">'+a[i].player+'</span><span class="total right" data-record="'+f+" - "+g+'" data-pct="'+j+'"></span></td>'),$("#season-leaderboard").append(b),e++}}}),$.ajax({dataType:"json",url:"/json/weekly-leaderboard.json",success:function(a){var b,c=0,d=0,e=1;for(a.sort(function(a,b){return parseFloat(b.total)-parseFloat(a.total)}),$('<span class="text-center week-nav"> Week '+parseFloat(week+1)+" Leaders</span>").appendTo(".weekly-total"),i=0;i<a.length;i++){var f=a[i].total;if(d!=f)var c=e,d=f;else if(d==f)var c=c;if(0==i)var g=100/f;var h=(f/gamesTotal*100).toFixed(2)+"%",j=(f*g).toFixed(2)+"%";b=$("<tr/>"),b.append('<td style="width: '+j+'"><span class="rank">'+c+'</span><span class="player">'+a[i].player+'</span><span class="total right" data-record="'+a[i].total+'" data-pct="'+h+'"></span></td>'),$("#weekly-leaderboard").append(b),e++}}}),function(a){a.fn.getYear=function(){var a=new Date,b=document.getElementById("year");b.innerHTML=a.getFullYear()}}(jQuery),$(".getYear").getYear();var week1=new Date,week2=new Date("9/13/2016"),week3=new Date("9/20/2016"),week4=new Date("9/27/2016"),week5=new Date("10/4/2016"),week6=new Date("10/11/2016"),week7=new Date("10/18/2016"),week8=new Date("10/25/2016"),week9=new Date("11/1/2016"),week10=new Date("11/08/2016"),week11=new Date("11/15/2016"),week12=new Date("11/22/2016"),week13=new Date("11/29/2016"),week14=new Date("12/6/2016"),week15=new Date("12/13/2016"),week16=new Date("12/20/2016"),week17=new Date("12/27/2017"),week18=new Date("1/3/2017"),today=new Date;if(week1>today)var week=0;if(today>=week1)var week=0;if(today>=week2)var week=1;if(today>=week3)var week=2;if(today>=week4)var week=3;if(today>=week5)var week=4;if(today>=week6)var week=5;if(today>=week7)var week=6;if(today>=week8)var week=7;if(today>=week9)var week=8;if(today>=week10)var week=9;if(today>=week11)var week=10;if(today>=week12)var week=11;if(today>=week13)var week=12;if(today>=week14)var week=13;if(today>=week15)var week=14;if(today>=week16)var week=15;if(today>=week17)var week=16;if(today>=week18)var week=17;var plus_one=1,week_number=week+plus_one,gamesTotal=147;getData(week),$(document).on("click touchstart",".pag",function(){$(".matches").html(""),getData($(this).data("week"))}),$.getJSON("http://www.nfl.com/liveupdate/scorestrip/ss.json",function(a){for(i=0;i<a.gms.length;i++){var b=a.gms[i].h,c=a.gms[i].hs,d=a.gms[i].v,e=a.gms[i].vs,f=a.gms[i].q,g=Math.max(c,e);g>=0&&$(g).parent().addClass("yourClass"),$(".scores").append('\n      <table border="0" cellspacing="0" cellpadding="0" data-quarter="'+f+'">\n        <tr>\n          <td class="visitor-team" data-team="'+d+'">\n            <table>\n              <tr>\n                <td><img src="/images/logos/'+d+'.png" alt="'+d+'"></td>\n                <td>'+d+'</td>\n                <td class="score">'+e+'</td>\n              </tr>\n            </table>\n          </td>\n          <td class="home-team" data-team="'+b+'">\n            <table>\n              <tr>\n                <td class="score">'+c+"</td>\n                <td>"+b+'</td>\n                <td><img src="/images/logos/'+b+'.png" alt="'+b+'"></td>\n              </tr>\n            </table>\n          </td>\n        </tr>\n      </table>\n      ')}var h=a.w;$(".scoreboard h1").append('<div class="text-center"><span>Week '+h+" Scores</span></div>")});var spreadsheetID="1_w6b0iUDaUbKD6qLD52BcRG1pIMh90P-Av4o0w5TAB8",url="https://spreadsheets.google.com/feeds/list/"+spreadsheetID+"/default/public/values?alt=json";$.getJSON(url,function(a){var b=a.feed.entry,c=b.length;$(".player-count").append("<span>"+c+"</span>");var d=(5*c*.9).toFixed(2),e="132.50";$(".weekly-pot").append("<span> $"+d+"</span>"),$(".season-pot").append("<span> $"+e+"</span>")});